<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>XTemplate测试</title>
<script type="text/javascript" src="/web/component/webpub/core/seajs/src/sea-debug.js"></script>
<script type="text/javascript" src="/ecp/component/ecp/core/config.js"></script>
<script type="text/javascript" src="/web/component/webpub/tools/codemirror/src/codehelper.js"></script>
<style type="text/css">
.content {
	width: 960px;
	margin: 0 auto;
}
</style>
</head>
<body>
	<div class="content">
		<h1>StringUtils</h1>
		<script type="text/javascript">
			seajs.use([
			           // 依赖jquery
			           'jquery',
			           // 依赖StringUtils
			           '/ecp/component/ecp/tools/XTemplate'
			          ], function($, XTemplate) {
				
				
				var tpl = '<html>' + 
									'<body>' +
									'asdklfas238491jfoasjdfiojawf#@(*&$@#(' +
									'lqsdkfj${a}123123${aaaa}asldjfklasjd' +
									'${b}kdsflkasdj${c}' +
									'kasdjfkj${d.e.f.g}' +
									'</body>' +
								'<html>';
				var data = {
						a:'__this is a__',
						b:'__this is b__',
						c:'__this is c__',
						d:{
							e:{
								f:{
									g:'__this is g__'
								}
							}
						}
				};
				
				var str = XTemplate.setTemplate(tpl).apply(data);
				var trace = XTemplate.getTrace();
					
				$('.container').append(str).append('<br>');
				$('.container').append(trace);
			});
		</script>
		<li>
			<h2>代码示例</h2>
			<div>
				<textarea class="js">
					<script type="text/javascript">
					seajs.use([
					           // 依赖jquery
					           'jquery',
					           // 依赖StringUtils
					           '/ecp/component/ecp/tools/XTemplate'
					          ], function($, XTemplate) {
						
						
						var tpl = '<html>' + 
											'<body>' +
											'asdklfas238491jfoasjdfiojawf#@(*&$@#(' +
											'lqsdkfj${a}123123${aaaa}asldjfklasjd' +
											'${b}kdsflkasdj${c}' +
											'kasdjfkj${d.e.f.g}' +
											'</body>' +
										'<html>';
						var data = {
								a:'__this is a__',
								b:'__this is b__',
								c:'__this is c__',
								d:{
									e:{
										f:{
											g:'__this is g__'
										}
									}
								}
						};
						
						var str = XTemplate.setTemplate(tpl).apply(data);
						var trace = XTemplate.getTrace();
							
						$('.container').append(str).append('<br>');
						$('.container').append(trace);
					</script>
				</textarea>
			</div>
		<li>
			<h2>结果</h2>
			<div class="container"></div>
		</li>
	</div>
</body>
</html>