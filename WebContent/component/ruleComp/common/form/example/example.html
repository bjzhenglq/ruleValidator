<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<title>form</title>
	<script type="text/javascript" src="/web/component/webpub/core/seajs2/dist/sea-debug.js" 
		data-config="/ecp/html/global.js" data-main="/ecp/html/main.js"></script>
	<script type="text/javascript"
		src="/web/component/webpub/tools/codemirror/src/codehelper.js"></script>
<style type="text/css">
.content {
	width: 960px;
	margin: 0 auto;
}
</style>
</head>
<body>
	<div class="content">
		<h1>form</h1>
		<ol>
			<li>
				<h2>界面</h2>
				<div id="form" style="display: inline-table;"></div>
				<script type="text/javascript">
					seajs.use('form',function(Form){
						var form=new Form({
					    	attrs:{
					    		id:"productQuery",
				    			url:"/ecp/order/qryOrderByCondition",
				    			items:[
				    				{
				    					label:"商品分类",
				    					name:"pkChannelNode",
				    					type:"select",
				    					emptyText:"全部",
				    					options:"CODENAME_PRODUCT_CATEGORY"//关键字
					    			},
					    			{
					    				label:"商品品牌",
					    				name:"brandID",
					    				type:"select",
					    				emptyText:"全部",
					    				options:"CODENAME_PRODUCT_BRAND"
						    		},
						    		{
							    		label:"产品线",
							    		name:"prodLineID",
							    		type:"select",
							    		options:"CODENAME_PRODUCT_PRODUCTLINE"
							    	},
									{
										label:"商品编码",
										name:'productName',
										type:"text"
									},
									{
										label:"商品名称",
										name:'productCode',
										type:"text"
									},
									{
										label:"价格区间",
										type:"range",
										minName:"minPrice",
										maxName:"maxPrice"
									}
				   	    		],
				   	    		buttons:[
				   	    			{
				   	    				text:"提交",
										handler:function(){
											productGrid.query($("#productQuery"));
											 return false;
										}
					   	    		},
					   	    		{
					   	    			text:"重置",
										handler:function(){
											$(':input','#productForm')   
											 .not(':button, :submit, :reset, :hidden')   
											 .val('')   
											 .removeAttr('checked')   
											 .removeAttr('selected');  
											return false;
										}
						   	    	}
				   		   	    ]
				    		},
				    		renderTo:'form'
					    });
					});
				</script>
			</li>
			<li>
				<h2>代码示例</h2>
				<div>
					<textarea class="js">
						<div id="form" style="display: inline-table;"></div>
						<script type="text/javascript">
							seajs.use('form',function(Form){
								var form=new Form({
							    	attrs:{
							    		id:"productQuery",
						    			url:"/ecp/order/qryOrderByCondition",
						    			items:[
						    				{
						    					label:"商品分类",
						    					name:"pkChannelNode",
						    					type:"select",
						    					options:"CODENAME_PRODUCT_CATEGORY"//商品分类对应的key
						    					//如果要新增一个key来
						    					/**
						    					1：注册
						    						在nc.web.es.codename.register.CodeNameRegister中注册一个新的编码和实现类
						    						例如：
						    						codenameServiceMap.put("CODENAME_PRODUCT_PRODUCTLINE",
						    								new QueryProductlIineCodeName());
						    					2：编写实现类 QueryProductlIineCodeName 实现nc.web.es.codename.iquery.IQueryCodeName接口
						    					public class QueryProductlIineCodeName implements IQueryCodeName {
						    						@Override
						    						public IComboBoxModel getCodeNameModel() throws EcpBaseException {
						    							ProductLineUIView[] uiVIews = new ProductControllerSupport()
						    									.qryProductLineInfo(EcpInvocationInfoProxy.getInstance()
						    											.getPkUser());
						    							//转化为IComboBoxModel 返回
						    							IComboBoxModel model = new ComboBoxModel();
						    							for (ProductLineUIView uiView : uiVIews) {
						    								ComboBoxItem item = new ComboBoxItem(uiView.getName(),
						    										uiView.getCode());
						    								model.addItem(item);
						    							}
						    							return model;
						    						}
						    					}
						    						
						    					*/
							    			},
							    			{
							    				label:"商品品牌",
							    				name:"brandID",
							    				type:"select",
							    				options:"CODENAME_PRODUCT_BRAND"
								    		},
								    		{
									    		label:"产品线",
									    		name:"prodLineID",
									    		type:"select",
									    		options:"CODENAME_PRODUCT_PRODUCTLINE"
									    	},
											{
												label:"商品编码",
												name:'productName',
												type:"text"
											},
											{
												label:"商品名称",
												name:'productCode',
												type:"text"
											},
											{
												label:"价格区间",
												type:"range",
												minName:"minPrice",
												maxName:"maxPrice"
											}
						   	    		],
						   	    		buttons:[
						   	    			{
						   	    				text:"提交",
												handler:function(){
													productGrid.query($("#productQuery"));
													 return false;
												}
							   	    		},
							   	    		{
							   	    			text:"重置",
												handler:function(){
													$(':input','#productForm')   
													 .not(':button, :submit, :reset, :hidden')   
													 .val('')   
													 .removeAttr('checked')   
													 .removeAttr('selected');  
													return false;
												}
								   	    	}
						   		   	    ]
						    		},
						    		renderTo:'form'
							    });
							});
						</script>
					</textarea>
				</div>
			</li>
			<li>
				<h2>数据模型</h2>
				<div>
					<textarea class="js">
					</textarea>
				</div>
			</li>
		</ol>
	</div>
</body>
</html>