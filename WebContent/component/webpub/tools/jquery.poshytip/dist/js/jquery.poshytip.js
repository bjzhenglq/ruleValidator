define("jquery.poshytip",["../theme/default/css/tip-yellowsimple.css"],function(a){return a("../theme/default/css/tip-yellowsimple.css"),function(a){return function(b){function g(){b.each(c,function(){this.refresh(!0)})}var c=[],d=/^url\(["']?([^"'\)]*)["']?\);?$/i,e=/\.png$/i,f=b.browser.msie&&6==b.browser.version;b(window).resize(g),b.Poshytip=function(a,c){this.$elm=b(a),this.opts=b.extend({},b.fn.poshytip.defaults,c),this.$tip=b(['<div class="',this.opts.className,'">','<div class="tip-inner tip-bg-image"></div>','<div class="tip-arrow tip-arrow-top tip-arrow-right tip-arrow-bottom tip-arrow-left"></div>',"</div>"].join("")).appendTo(document.body),this.$arrow=this.$tip.find("div.tip-arrow"),this.$inner=this.$tip.find("div.tip-inner"),this.disabled=!1,this.content=null,this.init()},b.Poshytip.prototype={init:function(){c.push(this);var a=this.$elm.attr("title");if(this.$elm.data("title.poshytip",void 0!==a?a:null).data("poshytip",this),"none"!=this.opts.showOn)switch(this.$elm.bind({"mouseenter.poshytip":b.proxy(this.mouseenter,this),"mouseleave.poshytip":b.proxy(this.mouseleave,this)}),this.opts.showOn){case"hover":"cursor"==this.opts.alignTo&&this.$elm.bind("mousemove.poshytip",b.proxy(this.mousemove,this)),this.opts.allowTipHover&&this.$tip.hover(b.proxy(this.clearTimeouts,this),b.proxy(this.mouseleave,this));break;case"focus":this.$elm.bind({"focus.poshytip":b.proxy(this.show,this),"blur.poshytip":b.proxy(this.hide,this)})}},mouseenter:function(){return this.disabled?!0:(this.$elm.attr("title",""),"focus"==this.opts.showOn?!0:(this.clearTimeouts(),this.showTimeout=setTimeout(b.proxy(this.show,this),this.opts.showTimeout),void 0))},mouseleave:function(c){if(this.disabled||this.asyncAnimating&&(this.$tip[0]===c.relatedTarget||a.contains(this.$tip[0],c.relatedTarget)))return!0;var d=this.$elm.data("title.poshytip");return null!==d&&this.$elm.attr("title",d),"focus"==this.opts.showOn?!0:(this.clearTimeouts(),this.hideTimeout=setTimeout(b.proxy(this.hide,this),this.opts.hideTimeout),void 0)},mousemove:function(a){return this.disabled?!0:(this.eventX=a.pageX,this.eventY=a.pageY,this.opts.followCursor&&this.$tip.data("active")&&(this.calcPos(),this.$tip.css({left:this.pos.l,top:this.pos.t}),this.pos.arrow&&(this.$arrow[0].className="tip-arrow tip-arrow-"+this.pos.arrow)),void 0)},show:function(){this.disabled||this.$tip.data("active")||(this.reset(),this.update(),this.display(),this.opts.timeOnScreen&&setTimeout(b.proxy(this.hide,this),this.opts.timeOnScreen))},hide:function(){!this.disabled&&this.$tip.data("active")&&this.display(!0)},reset:function(){this.$tip.queue([]).detach().css("visibility","hidden").data("active",!1),this.$inner.find("*").poshytip("hide"),this.opts.fade&&this.$tip.css("opacity",this.opacity),this.$arrow[0].className="tip-arrow tip-arrow-top tip-arrow-right tip-arrow-bottom tip-arrow-left",this.asyncAnimating=!1},update:function(a,b){if(!this.disabled){var c=void 0!==a;if(c){if(b||(this.opts.content=a),!this.$tip.data("active"))return}else a=this.opts.content;var d=this,e="function"==typeof a?a.call(this.$elm[0],function(a){d.update(a)}):"[title]"==a?this.$elm.data("title.poshytip"):a;this.content!==e&&(this.$inner.empty().append(e),this.content=e),this.refresh(c)}},refresh:function(a){if(!this.disabled){if(a){if(!this.$tip.data("active"))return;var c={left:this.$tip.css("left"),top:this.$tip.css("top")}}this.$tip.css({left:0,top:0}).appendTo(document.body),void 0===this.opacity&&(this.opacity=this.$tip.css("opacity"));var g=this.$tip.css("background-image").match(d),h=this.$arrow.css("background-image").match(d);if(g){var i=e.test(g[1]);f&&i?(this.$tip.css("background-image","none"),this.$inner.css({margin:0,border:0,padding:0}),g=i=!1):this.$tip.prepend('<table border="0" cellpadding="0" cellspacing="0"><tr><td class="tip-top tip-bg-image" colspan="2"><span></span></td><td class="tip-right tip-bg-image" rowspan="2"><span></span></td></tr><tr><td class="tip-left tip-bg-image" rowspan="2"><span></span></td><td></td></tr><tr><td class="tip-bottom tip-bg-image" colspan="2"><span></span></td></tr></table>').css({border:0,padding:0,"background-image":"none","background-color":"transparent"}).find(".tip-bg-image").css("background-image",'url("'+g[1]+'")').end().find("td").eq(3).append(this.$inner),i&&!b.support.opacity&&(this.opts.fade=!1)}h&&!b.support.opacity&&(f&&e.test(h[1])&&(h=!1,this.$arrow.css("background-image","none")),this.opts.fade=!1);var j=this.$tip.find("table");if(f){this.$tip[0].style.width="",j.width("auto").find("td").eq(3).width("auto");var k=this.$tip.width(),l=parseInt(this.$tip.css("min-width")),m=parseInt(this.$tip.css("max-width"));!isNaN(l)&&l>k?k=l:!isNaN(m)&&k>m&&(k=m),this.$tip.add(j).width(k).eq(0).find("td").eq(3).width("100%")}else j[0]&&j.width("auto").find("td").eq(3).width("auto").end().end().width(document.defaultView&&document.defaultView.getComputedStyle&&parseFloat(document.defaultView.getComputedStyle(this.$tip[0],null).width)||this.$tip.width()).find("td").eq(3).width("100%");if(this.tipOuterW=this.$tip.outerWidth(),this.tipOuterH=this.$tip.outerHeight(),this.calcPos(),h&&this.pos.arrow&&(this.$arrow[0].className="tip-arrow tip-arrow-"+this.pos.arrow,this.$arrow.css("visibility","inherit")),a){this.asyncAnimating=!0;var n=this;this.$tip.css(c).animate({left:this.pos.l,top:this.pos.t},200,function(){n.asyncAnimating=!1})}else this.$tip.css({left:this.pos.l,top:this.pos.t})}},display:function(a){var c=this.$tip.data("active");if(!(c&&!a||!c&&a)){if(this.$tip.stop(),(this.opts.slide&&this.pos.arrow||this.opts.fade)&&(a&&this.opts.hideAniDuration||!a&&this.opts.showAniDuration)){var d={},e={};if(this.opts.slide&&this.pos.arrow){var f,g;"bottom"==this.pos.arrow||"top"==this.pos.arrow?(f="top",g="bottom"):(f="left",g="right");var h=parseInt(this.$tip.css(f));d[f]=h+(a?0:this.pos.arrow==g?-this.opts.slideOffset:this.opts.slideOffset),e[f]=h+(a?this.pos.arrow==g?this.opts.slideOffset:-this.opts.slideOffset:0)+"px"}
this.opts.fade&&(d.opacity=a?this.$tip.css("opacity"):0,e.opacity=a?0:this.opacity),this.$tip.css(d).animate(e,this.opts[a?"hideAniDuration":"showAniDuration"])}a?this.$tip.queue(b.proxy(this.reset,this)):this.$tip.css("visibility","inherit"),this.$tip.data("active",!c)}},disable:function(){this.reset(),this.disabled=!0},enable:function(){this.disabled=!1},destroy:function(){this.reset(),this.$tip.remove(),delete this.$tip,this.content=null,this.$elm.unbind(".poshytip").removeData("title.poshytip").removeData("poshytip"),c.splice(b.inArray(this,c),1)},clearTimeouts:function(){this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=0),this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=0)},calcPos:function(){var e,f,g,h,i,j,a={l:0,t:0,arrow:""},c=b(window),d={l:c.scrollLeft(),t:c.scrollTop(),w:c.width(),h:c.height()};if("cursor"==this.opts.alignTo)e=f=g=this.eventX,h=i=j=this.eventY;else{var k=this.$elm.offset(),l={l:k.left,t:k.top,w:this.$elm.outerWidth(),h:this.$elm.outerHeight()};e=l.l+("inner-right"!=this.opts.alignX?0:l.w),f=e+Math.floor(l.w/2),g=e+("inner-left"!=this.opts.alignX?l.w:0),h=l.t+("inner-bottom"!=this.opts.alignY?0:l.h),i=h+Math.floor(l.h/2),j=h+("inner-top"!=this.opts.alignY?l.h:0)}switch(this.opts.alignX){case"right":case"inner-left":a.l=g+this.opts.offsetX,a.l+this.tipOuterW>d.l+d.w&&(a.l=d.l+d.w-this.tipOuterW),("right"==this.opts.alignX||"center"==this.opts.alignY)&&(a.arrow="left");break;case"center":a.l=f-Math.floor(this.tipOuterW/2),a.l+this.tipOuterW>d.l+d.w?a.l=d.l+d.w-this.tipOuterW:a.l<d.l&&(a.l=d.l);break;default:a.l=e-this.tipOuterW-this.opts.offsetX,a.l<d.l&&(a.l=d.l),("left"==this.opts.alignX||"center"==this.opts.alignY)&&(a.arrow="right")}switch(this.opts.alignY){case"bottom":case"inner-top":a.t=j+this.opts.offsetY,a.arrow&&"cursor"!=this.opts.alignTo||(a.arrow="top"),a.t+this.tipOuterH>d.t+d.h&&(a.t=h-this.tipOuterH-this.opts.offsetY,"top"==a.arrow&&(a.arrow="bottom"));break;case"center":a.t=i-Math.floor(this.tipOuterH/2),a.t+this.tipOuterH>d.t+d.h?a.t=d.t+d.h-this.tipOuterH:a.t<d.t&&(a.t=d.t);break;default:a.t=h-this.tipOuterH-this.opts.offsetY,a.arrow&&"cursor"!=this.opts.alignTo||(a.arrow="bottom"),a.t<d.t&&(a.t=j+this.opts.offsetY,"bottom"==a.arrow&&(a.arrow="top"))}this.pos=a}},b.fn.poshytip=function(a){if("string"==typeof a){var c=arguments,d=a;return Array.prototype.shift.call(c),"destroy"==d&&this.die("mouseenter.poshytip").die("focus.poshytip"),this.each(function(){var a=b(this).data("poshytip");a&&a[d]&&a[d].apply(a,c)})}var e=b.extend({},b.fn.poshytip.defaults,a);if(b("#poshytip-css-"+e.className)[0]||b(['<style id="poshytip-css-',e.className,'" type="text/css">',"div.",e.className,"{visibility:hidden;position:absolute;top:0;left:0;}","div.",e.className," table, div.",e.className," td{margin:0;font-family:inherit;font-size:inherit;font-weight:inherit;font-style:inherit;font-variant:inherit;}","div.",e.className," td.tip-bg-image span{display:block;font:1px/1px sans-serif;height:",e.bgImageFrameSize,"px;width:",e.bgImageFrameSize,"px;overflow:hidden;}","div.",e.className," td.tip-right{background-position:100% 0;}","div.",e.className," td.tip-bottom{background-position:100% 100%;}","div.",e.className," td.tip-left{background-position:0 100%;}","div.",e.className," div.tip-inner{background-position:-",e.bgImageFrameSize,"px -",e.bgImageFrameSize,"px;}","div.",e.className," div.tip-arrow{visibility:hidden;position:absolute;overflow:hidden;font:1px/1px sans-serif;}","</style>"].join("")).appendTo("head"),e.liveEvents&&"none"!=e.showOn){var f=b.extend({},e,{liveEvents:!1});switch(e.showOn){case"hover":this.live("mouseenter.poshytip",function(){var a=b(this);a.data("poshytip")||a.poshytip(f).poshytip("mouseenter")});break;case"focus":this.live("focus.poshytip",function(){var a=b(this);a.data("poshytip")||a.poshytip(f).poshytip("show")})}return this}return this.each(function(){new b.Poshytip(this,e)})},b.fn.poshytip.defaults={content:"[title]",className:"tip-yellow",bgImageFrameSize:10,showTimeout:500,hideTimeout:100,timeOnScreen:0,showOn:"hover",liveEvents:!1,alignTo:"cursor",alignX:"right",alignY:"top",offsetX:-22,offsetY:18,allowTipHover:!0,followCursor:!1,fade:!0,slide:!0,slideOffset:8,showAniDuration:300,hideAniDuration:300}}(a),a.noConflict(!0)}});